{"ast":null,"code":"// LMS/lms_renca/src/components/administradorService.js\nimport axios from 'axios';\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\nconst API_BASE_URL = 'http://localhost:8000/api/municipalidades/';\nexport const crearColegio = async data => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.post(API_BASE_URL + 'crear_colegio/', data, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Asegúrate de que el token esté en el almacenamiento local o el contexto de tu app\n      }\n    });\n    return response.data; // Mensaje de éxito\n  } catch (error) {\n    console.error('Error creando colegio:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const crearDirector = async data => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.post(API_BASE_URL + 'crear_director/', data, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Token para autorización\n      }\n    });\n    return response.data; // Mensaje de éxito\n  } catch (error) {\n    console.error('Error creando director:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const obtenerMunicipalidades = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.get(API_BASE_URL + 'obtener_municipalidades/', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Token para autorización\n      }\n    });\n    return response.data.municipalidades; // Devuelve las municipalidades\n  } catch (error) {\n    console.error('Error obteniendo municipalidades:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const obtenerColegios = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.get(API_BASE_URL + 'obtener_colegios/', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Token para autorización\n      }\n    });\n    return response.data.colegios; // Devuelve los colegios\n  } catch (error) {\n    console.error('Error obteniendo colegios:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const obtenerDirectores = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.get(API_BASE_URL + 'obtener_directores/', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Token para autorización\n      }\n    });\n    return response.data.directores; // Devuelve los directores\n  } catch (error) {\n    console.error('Error obteniendo directores:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const obtenerCursos = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.get(API_BASE_URL + 'obtener_cursos/', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Token para autorización\n      }\n    });\n    return response.data.cursos; // Devuelve los cursos\n  } catch (error) {\n    console.error('Error obteniendo cursos:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const obtenerAsignaturas = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.get(API_BASE_URL + 'obtener_asignaturas/', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Token para autorización\n      }\n    });\n    return response.data.asignaturas; // Devuelve las asignaturas\n  } catch (error) {\n    console.error('Error obteniendo asignaturas:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const obtenerInscripciones = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('No se ha encontrado un token de acceso');\n    }\n    const response = await axios.get(API_BASE_URL + 'obtener_incripciones/', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}` // Token para autorización\n      }\n    });\n    return response.data.inscripciones; // Devuelve las inscripciones\n  } catch (error) {\n    console.error('Error obteniendo inscripciones:', error);\n    throw error.response ? error.response.data : error;\n  }\n};\nconst AdministradorService = {\n  crearColegio,\n  crearDirector,\n  obtenerMunicipalidades,\n  obtenerColegios,\n  obtenerDirectores,\n  obtenerCursos,\n  obtenerAsignaturas,\n  obtenerInscripciones\n};\nexport default AdministradorService;","map":{"version":3,"names":["axios","defaults","xsrfCookieName","xsrfHeaderName","API_BASE_URL","crearColegio","data","token","localStorage","getItem","Error","response","post","headers","error","console","crearDirector","obtenerMunicipalidades","get","municipalidades","obtenerColegios","colegios","obtenerDirectores","directores","obtenerCursos","cursos","obtenerAsignaturas","asignaturas","obtenerInscripciones","inscripciones","AdministradorService"],"sources":["C:/Users/aggro/OneDrive/Desktop/LMS/lms_renca_frontend/src/services/administradorService.js"],"sourcesContent":["// LMS/lms_renca/src/components/administradorService.js\r\nimport axios from 'axios';\r\naxios.defaults.xsrfCookieName = 'csrftoken';\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\r\n\r\nconst API_BASE_URL = 'http://localhost:8000/api/municipalidades/';\r\n\r\nexport const crearColegio = async (data) => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.post(API_BASE_URL + 'crear_colegio/', data, {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Asegúrate de que el token esté en el almacenamiento local o el contexto de tu app\r\n      }\r\n    });\r\n    return response.data; // Mensaje de éxito\r\n  } catch (error) {\r\n    console.error('Error creando colegio:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n}; \r\n\r\nexport const crearDirector = async (data) => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.post(API_BASE_URL + 'crear_director/', data, {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Token para autorización\r\n      }\r\n    });\r\n    return response.data; // Mensaje de éxito\r\n  } catch (error) {\r\n    console.error('Error creando director:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\nexport const obtenerMunicipalidades = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.get(API_BASE_URL + 'obtener_municipalidades/', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Token para autorización\r\n      }\r\n    });\r\n    return response.data.municipalidades; // Devuelve las municipalidades\r\n  } catch (error) {\r\n    console.error('Error obteniendo municipalidades:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\nexport const obtenerColegios = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.get(API_BASE_URL + 'obtener_colegios/', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Token para autorización\r\n      }\r\n    });\r\n    return response.data.colegios; // Devuelve los colegios\r\n  } catch (error) {\r\n    console.error('Error obteniendo colegios:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\nexport const obtenerDirectores = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.get(API_BASE_URL + 'obtener_directores/', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Token para autorización\r\n      }\r\n    });\r\n    return response.data.directores; // Devuelve los directores\r\n  } catch (error) {\r\n    console.error('Error obteniendo directores:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\nexport const obtenerCursos = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.get(API_BASE_URL + 'obtener_cursos/', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Token para autorización\r\n      }\r\n    });\r\n    return response.data.cursos; // Devuelve los cursos\r\n  } catch (error) {\r\n    console.error('Error obteniendo cursos:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\nexport const obtenerAsignaturas = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.get(API_BASE_URL + 'obtener_asignaturas/', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Token para autorización\r\n      }\r\n    });\r\n    return response.data.asignaturas; // Devuelve las asignaturas\r\n  } catch (error) {\r\n    console.error('Error obteniendo asignaturas:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\nexport const obtenerInscripciones = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      throw new Error('No se ha encontrado un token de acceso');\r\n    }\r\n    const response = await axios.get(API_BASE_URL + 'obtener_incripciones/', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`, // Token para autorización\r\n      }\r\n    });\r\n    return response.data.inscripciones; // Devuelve las inscripciones\r\n  } catch (error) {\r\n    console.error('Error obteniendo inscripciones:', error);\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\nconst AdministradorService = {\r\n  crearColegio,\r\n  crearDirector,\r\n  obtenerMunicipalidades,\r\n  obtenerColegios,\r\n  obtenerDirectores,\r\n  obtenerCursos,\r\n  obtenerAsignaturas,\r\n  obtenerInscripciones\r\n}\r\n\r\nexport default AdministradorService;\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzBA,KAAK,CAACC,QAAQ,CAACC,cAAc,GAAG,WAAW;AAC3CF,KAAK,CAACC,QAAQ,CAACE,cAAc,GAAG,aAAa;AAE7C,MAAMC,YAAY,GAAG,4CAA4C;AAEjE,OAAO,MAAMC,YAAY,GAAG,MAAOC,IAAI,IAAK;EAC1C,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAI,CAACR,YAAY,GAAG,gBAAgB,EAAEE,IAAI,EAAE;MACvEO,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAME,aAAa,GAAG,MAAOV,IAAI,IAAK;EAC3C,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAI,CAACR,YAAY,GAAG,iBAAiB,EAAEE,IAAI,EAAE;MACxEO,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMG,sBAAsB,GAAG,MAAAA,CAAA,KAAY;EAChD,IAAI;IACF,MAAMV,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACkB,GAAG,CAACd,YAAY,GAAG,0BAA0B,EAAE;MAC1ES,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAACa,eAAe,CAAC,CAAC;EACxC,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IACzD,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMM,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,IAAI;IACF,MAAMb,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACkB,GAAG,CAACd,YAAY,GAAG,mBAAmB,EAAE;MACnES,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAACe,QAAQ,CAAC,CAAC;EACjC,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMQ,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EAC3C,IAAI;IACF,MAAMf,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACkB,GAAG,CAACd,YAAY,GAAG,qBAAqB,EAAE;MACrES,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAACiB,UAAU,CAAC,CAAC;EACnC,CAAC,CAAC,OAAOT,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMU,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,IAAI;IACF,MAAMjB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACkB,GAAG,CAACd,YAAY,GAAG,iBAAiB,EAAE;MACjES,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAACmB,MAAM,CAAC,CAAC;EAC/B,CAAC,CAAC,OAAOX,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMY,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC5C,IAAI;IACF,MAAMnB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACkB,GAAG,CAACd,YAAY,GAAG,sBAAsB,EAAE;MACtES,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAACqB,WAAW,CAAC,CAAC;EACpC,CAAC,CAAC,OAAOb,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMc,oBAAoB,GAAG,MAAAA,CAAA,KAAY;EAC9C,IAAI;IACF,MAAMrB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAC3D;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACkB,GAAG,CAACd,YAAY,GAAG,uBAAuB,EAAE;MACvES,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAE;MAC9D;IACF,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACL,IAAI,CAACuB,aAAa,CAAC,CAAC;EACtC,CAAC,CAAC,OAAOf,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACL,IAAI,GAAGQ,KAAK;EACpD;AACF,CAAC;AAED,MAAMgB,oBAAoB,GAAG;EAC3BzB,YAAY;EACZW,aAAa;EACbC,sBAAsB;EACtBG,eAAe;EACfE,iBAAiB;EACjBE,aAAa;EACbE,kBAAkB;EAClBE;AACF,CAAC;AAED,eAAeE,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
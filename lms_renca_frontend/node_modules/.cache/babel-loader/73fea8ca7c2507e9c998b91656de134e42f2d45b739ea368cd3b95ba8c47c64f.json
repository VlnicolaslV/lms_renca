{"ast":null,"code":"import React,{useState,useEffect}from'react';import directorService from'../../services/directorService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CrearCursoForm(){const[nombre,setNombre]=useState('');const[grado,setGrado]=useState('');const[colegio,setColegio]=useState(null);// Estado para el colegio del director\n// Obtener el colegio del director al cargar el componente\nuseEffect(()=>{const fetchColegio=async()=>{try{const response=await directorService.obtenerColegioDirector();// Llamada a la API\nsetColegio(response);}catch(error){console.error(\"Error al obtener el colegio del director:\",error);// Manejar el error, por ejemplo, mostrar un mensaje al usuario\n}};fetchColegio();},[]);const handleSubmit=async event=>{event.preventDefault();try{await directorService.crearCurso({nombre,grado,colegio:colegio.id});setNombre('');setGrado('');alert(\"Curso creado con éxito\");}catch(error){console.error(\"Error al crear el curso:\",error);// Mostrar mensaje de error al usuario\n}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombre\",children:\"Nombre:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombre\",value:nombre,onChange:e=>setNombre(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"grado\",children:\"Grado:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"grado\",value:grado,onChange:e=>setGrado(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"colegio\",children:\"Colegio:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"colegio\",value:colegio?colegio.nombre:\"Cargando...\"// Mostrar nombre del colegio o \"Cargando...\"\n,disabled:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Crear Curso\"})]});}export default CrearCursoForm;","map":{"version":3,"names":["React","useState","useEffect","directorService","jsx","_jsx","jsxs","_jsxs","CrearCursoForm","nombre","setNombre","grado","setGrado","colegio","setColegio","fetchColegio","response","obtenerColegioDirector","error","console","handleSubmit","event","preventDefault","crearCurso","id","alert","onSubmit","children","htmlFor","type","value","onChange","e","target","required","disabled"],"sources":["C:/Users/aggro/OneDrive/Desktop/Nueva carpeta (3)/LMS/lms_renca_frontend/src/components/director/CrearCursoForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport directorService from '../../services/directorService';\r\n\r\nfunction CrearCursoForm() {\r\n  const [nombre, setNombre] = useState('');\r\n  const [grado, setGrado] = useState('');\r\n  const [colegio, setColegio] = useState(null); // Estado para el colegio del director\r\n\r\n  // Obtener el colegio del director al cargar el componente\r\n  useEffect(() => {\r\n    const fetchColegio = async () => {\r\n      try {\r\n        const response = await directorService.obtenerColegioDirector(); // Llamada a la API\r\n        setColegio(response);\r\n      } catch (error) {\r\n        console.error(\"Error al obtener el colegio del director:\", error);\r\n        // Manejar el error, por ejemplo, mostrar un mensaje al usuario\r\n      }\r\n    };\r\n    fetchColegio();\r\n  }, []);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await directorService.crearCurso({ \r\n        nombre, \r\n        grado, \r\n        colegio: colegio.id \r\n      });\r\n      setNombre('');\r\n      setGrado('');\r\n      alert(\"Curso creado con éxito\");\r\n    } catch (error) {\r\n      console.error(\"Error al crear el curso:\", error);\r\n      // Mostrar mensaje de error al usuario\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <label htmlFor=\"nombre\">Nombre:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"nombre\"\r\n          value={nombre}\r\n          onChange={(e) => setNombre(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"grado\">Grado:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"grado\"\r\n          value={grado}\r\n          onChange={(e) => setGrado(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label htmlFor=\"colegio\">Colegio:</label>\r\n        <input \r\n          type=\"text\" \r\n          id=\"colegio\" \r\n          value={colegio ? colegio.nombre : \"Cargando...\"} // Mostrar nombre del colegio o \"Cargando...\"\r\n          disabled \r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\">Crear Curso</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default CrearCursoForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import profesorService from'../../services/profesorService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TomarAsistencias=_ref=>{let{idCursoAsignatura}=_ref;const[estudiantes,setEstudiantes]=useState([]);const[fecha,setFecha]=useState('');const[asistencia,setAsistencia]=useState({});useEffect(()=>{const fetchEstudiantes=async()=>{try{const estudiantesData=await profesorService.obtenerEstudiantes(idCursoAsignatura);setEstudiantes(estudiantesData);}catch(error){console.error(\"Error al obtener los estudiantes:\",error);}};fetchEstudiantes();},[idCursoAsignatura]);const handleAsistenciaChange=(idEstudiante,presente)=>{setAsistencia({...asistencia,[idEstudiante]:presente});};const handleSubmit=async e=>{e.preventDefault();for(const idEstudiante in asistencia){try{await profesorService.tomarAsistencia(idCursoAsignatura,idEstudiante,{fecha,presente:asistencia[idEstudiante]});}catch(error){console.error(`Error al tomar asistencia para el estudiante ${idEstudiante}:`,error);}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tomar Asistencias\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:fecha,onChange:e=>setFecha(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{children:estudiantes.map(estudiante=>/*#__PURE__*/_jsxs(\"li\",{children:[estudiante.nombre,/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`asistencia-${estudiante.id}`,value:\"presente\",checked:asistencia[estudiante.id]===true,onChange:()=>handleAsistenciaChange(estudiante.id,true)}),\"Presente\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`asistencia-${estudiante.id}`,value:\"ausente\",checked:asistencia[estudiante.id]===false,onChange:()=>handleAsistenciaChange(estudiante.id,false)}),\"Ausente\"]})]},estudiante.id))})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrar Asistencia\"})]})]});};export default TomarAsistencias;","map":{"version":3,"names":["React","useState","useEffect","profesorService","jsx","_jsx","jsxs","_jsxs","TomarAsistencias","_ref","idCursoAsignatura","estudiantes","setEstudiantes","fecha","setFecha","asistencia","setAsistencia","fetchEstudiantes","estudiantesData","obtenerEstudiantes","error","console","handleAsistenciaChange","idEstudiante","presente","handleSubmit","e","preventDefault","tomarAsistencia","children","onSubmit","type","value","onChange","target","map","estudiante","nombre","name","id","checked"],"sources":["C:/Users/aggro/OneDrive/Desktop/Nueva carpeta (3)/LMS/lms_renca_frontend/src/components/profesor/TomarAsistencias.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport profesorService from '../../services/profesorService';\r\n\r\nconst TomarAsistencias = ({ idCursoAsignatura }) => {\r\n    const [estudiantes, setEstudiantes] = useState([]);\r\n    const [fecha, setFecha] = useState('');\r\n    const [asistencia, setAsistencia] = useState({});\r\n\r\n    useEffect(() => {\r\n        const fetchEstudiantes = async () => {\r\n            try {\r\n                const estudiantesData = await profesorService.obtenerEstudiantes(idCursoAsignatura);\r\n                setEstudiantes(estudiantesData);\r\n            } catch (error) {\r\n                console.error(\"Error al obtener los estudiantes:\", error);\r\n            }\r\n        };\r\n        fetchEstudiantes();\r\n    }, [idCursoAsignatura]);\r\n\r\n    const handleAsistenciaChange = (idEstudiante, presente) => {\r\n        setAsistencia({ ...asistencia, [idEstudiante]: presente });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        for (const idEstudiante in asistencia) {\r\n            try {\r\n                await profesorService.tomarAsistencia(idCursoAsignatura, idEstudiante, { fecha, presente: asistencia[idEstudiante] });\r\n            } catch (error) {\r\n                console.error(`Error al tomar asistencia para el estudiante ${idEstudiante}:`, error);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Tomar Asistencias</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    <label>Fecha:</label>\r\n                    <input type=\"date\" value={fecha} onChange={(e) => setFecha(e.target.value)} />\r\n                </div>\r\n                <div>\r\n                    <ul>\r\n                        {estudiantes.map((estudiante) => (\r\n                            <li key={estudiante.id}>\r\n                                {estudiante.nombre}\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name={`asistencia-${estudiante.id}`}\r\n                                        value=\"presente\"\r\n                                        checked={asistencia[estudiante.id] === true}\r\n                                        onChange={() => handleAsistenciaChange(estudiante.id, true)}\r\n                                    />\r\n                                    Presente\r\n                                </label>\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name={`asistencia-${estudiante.id}`}\r\n                                        value=\"ausente\"\r\n                                        checked={asistencia[estudiante.id] === false}\r\n                                        onChange={() => handleAsistenciaChange(estudiante.id, false)}\r\n                                    />\r\n                                    Ausente\r\n                                </label>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n                <button type=\"submit\">Registrar Asistencia</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TomarAsistencias;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
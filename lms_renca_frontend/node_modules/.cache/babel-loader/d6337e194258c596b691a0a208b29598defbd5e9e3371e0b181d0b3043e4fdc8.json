{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aggro\\\\OneDrive\\\\Desktop\\\\LMS\\\\lms_renca_frontend\\\\src\\\\components\\\\estudiante\\\\VerTareas.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { EstudianteService } from '../../services/estudianteService';\nimport SubirRespuesta from './SubirRespuesta';\nimport './estudianteCss/verTareas.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VerTareas = ({\n  asignaturaId,\n  estudianteRut,\n  onResponderTareaClick\n}) => {\n  _s();\n  const [tareas, setTareas] = useState([]);\n  const [respuestas, setRespuestas] = useState([]);\n  const [showResponseForm, setShowResponseForm] = useState(false);\n  const [selectedTareaId, setSelectedTareaId] = useState(null);\n  useEffect(() => {\n    const fetchTareas = async () => {\n      try {\n        if (!estudianteRut) {\n          throw new Error(\"El rut del estudiante es undefined\");\n        }\n        const tareasResponse = await EstudianteService.obtener_tareas(estudianteRut);\n        setTareas(tareasResponse);\n        const respuestasResponse = await EstudianteService.obtener_respuestas(estudianteRut);\n        setRespuestas(respuestasResponse);\n      } catch (error) {\n        console.error(\"Error al obtener tareas o respuestas:\", error);\n      }\n    };\n    fetchTareas();\n  }, [estudianteRut]);\n  const handleResponderTareaClick = tareaId => {\n    setSelectedTareaId(tareaId);\n    setShowResponseForm(true);\n  };\n  const handleResponseSubmitted = () => {\n    setShowResponseForm(false);\n    setSelectedTareaId(null);\n    // Refresh tasks and responses\n    const fetchTareas = async () => {\n      const tareasResponse = await EstudianteService.obtener_tareas(estudianteRut);\n      setTareas(tareasResponse);\n      const respuestasResponse = await EstudianteService.obtener_respuestas(estudianteRut);\n      setRespuestas(respuestasResponse);\n    };\n    fetchTareas();\n  };\n  const getRespuestasForTarea = tareaId => {\n    return respuestas.filter(respuesta => respuesta.tarea === tareaId);\n  };\n  if (showResponseForm && selectedTareaId) {\n    return /*#__PURE__*/_jsxDEV(SubirRespuesta, {\n      tareaId: selectedTareaId,\n      estudianteRut: estudianteRut,\n      onResponseSubmitted: handleResponseSubmitted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 16\n    }, this);\n  }\n  if (!tareas.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Cargando tareas...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ver-tareas-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tareas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tareas-grid\",\n      children: tareas.map((tarea, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tarea-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: tarea.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tarea.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), tarea.archivo && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `http://localhost:8000/${tarea.archivo}`,\n          download: true,\n          children: \"Descargar Archivo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Fecha de entrega: \", new Date(tarea.fecha_entrega).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleResponderTareaClick(tarea.id),\n          children: \"Responder Tarea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"respuestas\",\n          children: getRespuestasForTarea(tarea.id).map((respuesta, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"respuesta\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Comentario:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 40\n              }, this), \" \", respuesta.comentario]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), respuesta.archivo_respuesta && /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `http://localhost:8000/${respuesta.archivo_respuesta}`,\n              download: true,\n              children: \"Descargar Respuesta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Fecha de env\\xEDo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 40\n              }, this), \" \", new Date(respuesta.fecha_envio).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n_s(VerTareas, \"uuSTE9ZLygeSUdFcfWrTy+Hzw+o=\");\n_c = VerTareas;\nexport default VerTareas;\nvar _c;\n$RefreshReg$(_c, \"VerTareas\");","map":{"version":3,"names":["React","useEffect","useState","EstudianteService","SubirRespuesta","jsxDEV","_jsxDEV","VerTareas","asignaturaId","estudianteRut","onResponderTareaClick","_s","tareas","setTareas","respuestas","setRespuestas","showResponseForm","setShowResponseForm","selectedTareaId","setSelectedTareaId","fetchTareas","Error","tareasResponse","obtener_tareas","respuestasResponse","obtener_respuestas","error","console","handleResponderTareaClick","tareaId","handleResponseSubmitted","getRespuestasForTarea","filter","respuesta","tarea","onResponseSubmitted","fileName","_jsxFileName","lineNumber","columnNumber","length","children","className","map","index","titulo","descripcion","archivo","href","download","Date","fecha_entrega","toLocaleDateString","onClick","id","comentario","archivo_respuesta","fecha_envio","_c","$RefreshReg$"],"sources":["C:/Users/aggro/OneDrive/Desktop/LMS/lms_renca_frontend/src/components/estudiante/VerTareas.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { EstudianteService } from '../../services/estudianteService';\r\nimport SubirRespuesta from './SubirRespuesta';\r\nimport './estudianteCss/verTareas.css';\r\n\r\nconst VerTareas = ({ asignaturaId, estudianteRut, onResponderTareaClick }) => {\r\n    const [tareas, setTareas] = useState([]);\r\n    const [respuestas, setRespuestas] = useState([]);\r\n    const [showResponseForm, setShowResponseForm] = useState(false);\r\n    const [selectedTareaId, setSelectedTareaId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchTareas = async () => {\r\n            try {\r\n                if (!estudianteRut) {\r\n                    throw new Error(\"El rut del estudiante es undefined\");\r\n                }\r\n                const tareasResponse = await EstudianteService.obtener_tareas(estudianteRut);\r\n                setTareas(tareasResponse);\r\n\r\n                const respuestasResponse = await EstudianteService.obtener_respuestas(estudianteRut);\r\n                setRespuestas(respuestasResponse);\r\n            } catch (error) {\r\n                console.error(\"Error al obtener tareas o respuestas:\", error);\r\n            }\r\n        };\r\n        fetchTareas();\r\n    }, [estudianteRut]);\r\n\r\n    const handleResponderTareaClick = (tareaId) => {\r\n        setSelectedTareaId(tareaId);\r\n        setShowResponseForm(true);\r\n    };\r\n\r\n    const handleResponseSubmitted = () => {\r\n        setShowResponseForm(false);\r\n        setSelectedTareaId(null);\r\n        // Refresh tasks and responses\r\n        const fetchTareas = async () => {\r\n            const tareasResponse = await EstudianteService.obtener_tareas(estudianteRut);\r\n            setTareas(tareasResponse);\r\n\r\n            const respuestasResponse = await EstudianteService.obtener_respuestas(estudianteRut);\r\n            setRespuestas(respuestasResponse);\r\n        };\r\n        fetchTareas();\r\n    };\r\n\r\n    const getRespuestasForTarea = (tareaId) => {\r\n        return respuestas.filter(respuesta => respuesta.tarea === tareaId);\r\n    };\r\n\r\n    if (showResponseForm && selectedTareaId) {\r\n        return <SubirRespuesta tareaId={selectedTareaId} estudianteRut={estudianteRut} onResponseSubmitted={handleResponseSubmitted} />;\r\n    }\r\n\r\n    if (!tareas.length) {\r\n        return <div>Cargando tareas...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"ver-tareas-container\">\r\n            <h2>Tareas</h2>\r\n            <div className=\"tareas-grid\">\r\n                {tareas.map((tarea, index) => (\r\n                    <div key={index} className=\"tarea-card\">\r\n                        <h3>{tarea.titulo}</h3>\r\n                        <p>{tarea.descripcion}</p>\r\n                        {tarea.archivo && (\r\n                            <a href={`http://localhost:8000/${tarea.archivo}`} download>Descargar Archivo</a>\r\n                        )}\r\n                        <p>Fecha de entrega: {new Date(tarea.fecha_entrega).toLocaleDateString()}</p>\r\n                        <button onClick={() => handleResponderTareaClick(tarea.id)}>Responder Tarea</button>\r\n                        <div className=\"respuestas\">\r\n                            {getRespuestasForTarea(tarea.id).map((respuesta, index) => (\r\n                                <div key={index} className=\"respuesta\">\r\n                                    <p><strong>Comentario:</strong> {respuesta.comentario}</p>\r\n                                    {respuesta.archivo_respuesta && (\r\n                                        <a href={`http://localhost:8000/${respuesta.archivo_respuesta}`} download>Descargar Respuesta</a>\r\n                                    )}\r\n                                    <p><strong>Fecha de env√≠o:</strong> {new Date(respuesta.fecha_envio).toLocaleDateString()}</p>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VerTareas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aggro\\\\OneDrive\\\\Desktop\\\\LMS\\\\lms_renca_frontend\\\\src\\\\components\\\\profesor\\\\CrearTarea.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport profesorService from '../../services/profesorService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CrearTarea = ({\n  idCursoAsignatura\n}) => {\n  _s();\n  const [titulo, setTitulo] = useState('');\n  const [descripcion, setDescripcion] = useState('');\n  const [fechaEntrega, setFechaEntrega] = useState('');\n  const [archivo, setArchivo] = useState(null);\n  const fileInputRef = useRef(null); // Usar una referencia para el campo de archivo\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append('titulo', titulo);\n      formData.append('descripcion', descripcion);\n      formData.append('fecha_publicacion', new Date().toISOString().split('T')[0]); // Fecha actual en formato YYYY-MM-DD\n      formData.append('fecha_entrega', fechaEntrega); // Fecha de entrega sin hora\n      formData.append('archivo', archivo);\n      await profesorService.crearTarea(idCursoAsignatura, formData);\n      // Mostrar mensaje de éxito\n      toast.success('¡Tarea creada exitosamente!', {\n        position: \"top-right\",\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      // Limpiar los campos del formulario\n      setTitulo('');\n      setDescripcion('');\n      setFechaEntrega('');\n      setArchivo(null);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = ''; // Restablecer el campo de archivo\n      }\n      // Redirigir al componente VerTareas\n      navigate(`/profesor/`);\n    } catch (error) {\n      console.error('Error al crear la tarea:', error);\n      toast.error('Error al crear la tarea. Intenta nuevamente.', {\n        position: \"top-right\",\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Crear Tarea\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"T\\xEDtulo:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: titulo,\n          onChange: e => setTitulo(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Descripci\\xF3n:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: descripcion,\n          onChange: e => setDescripcion(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Fecha de Entrega:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: fechaEntrega,\n          onChange: e => setFechaEntrega(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Archivo:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          onChange: e => setArchivo(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Crear Tarea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(CrearTarea, \"FlFRXdv7H9Wu65ZlWLhNqdQ2P04=\", false, function () {\n  return [useNavigate];\n});\n_c = CrearTarea;\nexport default CrearTarea;\nvar _c;\n$RefreshReg$(_c, \"CrearTarea\");","map":{"version":3,"names":["React","useState","useRef","useNavigate","toast","ToastContainer","profesorService","jsxDEV","_jsxDEV","CrearTarea","idCursoAsignatura","_s","titulo","setTitulo","descripcion","setDescripcion","fechaEntrega","setFechaEntrega","archivo","setArchivo","fileInputRef","navigate","handleSubmit","e","preventDefault","formData","FormData","append","Date","toISOString","split","crearTarea","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","current","value","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","target","required","ref","files","_c","$RefreshReg$"],"sources":["C:/Users/aggro/OneDrive/Desktop/LMS/lms_renca_frontend/src/components/profesor/CrearTarea.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport profesorService from '../../services/profesorService';\r\n\r\nconst CrearTarea = ({ idCursoAsignatura }) => {\r\n    const [titulo, setTitulo] = useState('');\r\n    const [descripcion, setDescripcion] = useState('');\r\n    const [fechaEntrega, setFechaEntrega] = useState('');\r\n    const [archivo, setArchivo] = useState(null);\r\n    const fileInputRef = useRef(null); // Usar una referencia para el campo de archivo\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('titulo', titulo);\r\n            formData.append('descripcion', descripcion);\r\n            formData.append('fecha_publicacion', new Date().toISOString().split('T')[0]); // Fecha actual en formato YYYY-MM-DD\r\n            formData.append('fecha_entrega', fechaEntrega); // Fecha de entrega sin hora\r\n            formData.append('archivo', archivo);\r\n\r\n            await profesorService.crearTarea(idCursoAsignatura, formData);\r\n            // Mostrar mensaje de éxito\r\n            toast.success('¡Tarea creada exitosamente!', {\r\n                position: \"top-right\",\r\n                autoClose: 3000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            // Limpiar los campos del formulario\r\n            setTitulo('');\r\n            setDescripcion('');\r\n            setFechaEntrega('');\r\n            setArchivo(null);\r\n            if (fileInputRef.current) {\r\n                fileInputRef.current.value = ''; // Restablecer el campo de archivo\r\n            }\r\n            // Redirigir al componente VerTareas\r\n            navigate(`/profesor/`);\r\n        } catch (error) {\r\n            console.error('Error al crear la tarea:', error);\r\n            toast.error('Error al crear la tarea. Intenta nuevamente.', {\r\n                position: \"top-right\",\r\n                autoClose: 3000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <ToastContainer />\r\n            <h2>Crear Tarea</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    Título:\r\n                    <input type=\"text\" value={titulo} onChange={(e) => setTitulo(e.target.value)} required />\r\n                </label>\r\n                <label>\r\n                    Descripción:\r\n                    <textarea value={descripcion} onChange={(e) => setDescripcion(e.target.value)} required></textarea>\r\n                </label>\r\n                <label>\r\n                    Fecha de Entrega:\r\n                    <input type=\"date\" value={fechaEntrega} onChange={(e) => setFechaEntrega(e.target.value)} required />\r\n                </label>\r\n                <label>\r\n                    Archivo:\r\n                    <input type=\"file\" ref={fileInputRef} onChange={(e) => setArchivo(e.target.files[0])} />\r\n                </label>\r\n                <button type=\"submit\">Crear Tarea</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CrearTarea;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
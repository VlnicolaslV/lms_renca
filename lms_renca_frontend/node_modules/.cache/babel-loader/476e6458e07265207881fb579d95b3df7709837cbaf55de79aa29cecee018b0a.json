{"ast":null,"code":"import React,{useState}from'react';import estudianteService from'../../services/estudianteService';import'./estudianteCss/subirRespuesta.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubirRespuesta=_ref=>{let{tareaId,estudianteRut,onResponseSubmitted}=_ref;const[archivo,setArchivo]=useState(null);const[comentario,setComentario]=useState('');const handleArchivoChange=e=>{setArchivo(e.target.files[0]);};const handleComentarioChange=e=>{setComentario(e.target.value);};const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('tarea',tareaId);formData.append('estudiante',estudianteRut);formData.append('archivo_respuesta',archivo);formData.append('comentario',comentario);try{await estudianteService.subir_respuesta(formData);alert('Respuesta subida con éxito.');onResponseSubmitted();// Llama a la función para actualizar la vista de tareas\n}catch(error){console.error('Error al subir la respuesta:',error);alert('Hubo un error al subir la respuesta. Inténtalo de nuevo.');}};return/*#__PURE__*/_jsxs(\"form\",{className:\"subir-respuesta-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Subir Respuesta\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleArchivoChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{value:comentario,onChange:handleComentarioChange,placeholder:\"A\\xF1adir un comentario (opcional)\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Subir\"})]});};export default SubirRespuesta;","map":{"version":3,"names":["React","useState","estudianteService","jsx","_jsx","jsxs","_jsxs","SubirRespuesta","_ref","tareaId","estudianteRut","onResponseSubmitted","archivo","setArchivo","comentario","setComentario","handleArchivoChange","e","target","files","handleComentarioChange","value","handleSubmit","preventDefault","formData","FormData","append","subir_respuesta","alert","error","console","className","onSubmit","children","type","onChange","required","placeholder"],"sources":["C:/Users/aggro/OneDrive/Desktop/Nueva carpeta (3)/LMS/lms_renca_frontend/src/components/estudiante/SubirRespuesta.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport estudianteService from '../../services/estudianteService';\r\nimport './estudianteCss/subirRespuesta.css';\r\n\r\nconst SubirRespuesta = ({ tareaId, estudianteRut, onResponseSubmitted }) => {\r\n    const [archivo, setArchivo] = useState(null);\r\n    const [comentario, setComentario] = useState('');\r\n\r\n    const handleArchivoChange = (e) => {\r\n        setArchivo(e.target.files[0]);\r\n    };\r\n\r\n    const handleComentarioChange = (e) => {\r\n        setComentario(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('tarea', tareaId);\r\n        formData.append('estudiante', estudianteRut);\r\n        formData.append('archivo_respuesta', archivo);\r\n        formData.append('comentario', comentario);\r\n\r\n        try {\r\n            await estudianteService.subir_respuesta(formData);\r\n            alert('Respuesta subida con éxito.');\r\n            onResponseSubmitted();  // Llama a la función para actualizar la vista de tareas\r\n        } catch (error) {\r\n            console.error('Error al subir la respuesta:', error);\r\n            alert('Hubo un error al subir la respuesta. Inténtalo de nuevo.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form className=\"subir-respuesta-form\" onSubmit={handleSubmit}>\r\n            <h3>Subir Respuesta</h3>\r\n            <input type=\"file\" onChange={handleArchivoChange} required />\r\n            <textarea\r\n                value={comentario}\r\n                onChange={handleComentarioChange}\r\n                placeholder=\"Añadir un comentario (opcional)\"\r\n            ></textarea>\r\n            <button type=\"submit\">Subir</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default SubirRespuesta;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,iBAAiB,KAAM,kCAAkC,CAChE,MAAO,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAqD,IAApD,CAAEC,OAAO,CAAEC,aAAa,CAAEC,mBAAoB,CAAC,CAAAH,IAAA,CACnE,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAAAe,mBAAmB,CAAIC,CAAC,EAAK,CAC/BJ,UAAU,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,sBAAsB,CAAIH,CAAC,EAAK,CAClCF,aAAa,CAACE,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAC9BA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEjB,OAAO,CAAC,CACjCe,QAAQ,CAACE,MAAM,CAAC,YAAY,CAAEhB,aAAa,CAAC,CAC5Cc,QAAQ,CAACE,MAAM,CAAC,mBAAmB,CAAEd,OAAO,CAAC,CAC7CY,QAAQ,CAACE,MAAM,CAAC,YAAY,CAAEZ,UAAU,CAAC,CAEzC,GAAI,CACA,KAAM,CAAAZ,iBAAiB,CAACyB,eAAe,CAACH,QAAQ,CAAC,CACjDI,KAAK,CAAC,6BAA6B,CAAC,CACpCjB,mBAAmB,CAAC,CAAC,CAAG;AAC5B,CAAE,MAAOkB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDD,KAAK,CAAC,0DAA0D,CAAC,CACrE,CACJ,CAAC,CAED,mBACItB,KAAA,SAAMyB,SAAS,CAAC,sBAAsB,CAACC,QAAQ,CAAEV,YAAa,CAAAW,QAAA,eAC1D7B,IAAA,OAAA6B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB7B,IAAA,UAAO8B,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAEnB,mBAAoB,CAACoB,QAAQ,MAAE,CAAC,cAC7DhC,IAAA,aACIiB,KAAK,CAAEP,UAAW,CAClBqB,QAAQ,CAAEf,sBAAuB,CACjCiB,WAAW,CAAC,oCAAiC,CACtC,CAAC,cACZjC,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAQ,CAAC,EAClC,CAAC,CAEf,CAAC,CAED,cAAe,CAAA1B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}